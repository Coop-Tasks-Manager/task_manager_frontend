{"ast":null,"code":"var _jsxFileName = \"/home/gosso/Bureau/Task_manager/task_manager/src/components/board/Board.jsx\";\nimport { DndContext, closestCenter } from '@dnd-kit/core';\nimport { arrayMove } from '@dnd-kit/sortable';\nimport Column from \"./Column\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst statuses = [\"To Do\", \"In Progress\", \"Done\"];\nexport default function Board({\n  tasks,\n  setTasks\n}) {\n  const handleDragEnd = event => {\n    const {\n      active,\n      over\n    } = event;\n    if (!over) return;\n    const activeId = active.id;\n    const overId = over.id;\n\n    // Find the task being dragged\n    const activeTask = tasks.find(task => task.id === activeId);\n    if (!activeTask) return;\n\n    // If dropping on a column (not another task)\n    if (statuses.includes(overId)) {\n      const newStatus = overId;\n      if (activeTask.status !== newStatus) {\n        setTasks(tasks => tasks.map(t => t.id === activeId ? {\n          ...t,\n          status: newStatus\n        } : t));\n      }\n      return;\n    }\n\n    // If dropping on another task, reorder within the same column\n    const overTask = tasks.find(task => task.id === overId);\n    if (!overTask || activeTask.status !== overTask.status) return;\n    const columnTasks = tasks.filter(t => t.status === activeTask.status);\n    const activeIndex = columnTasks.findIndex(t => t.id === activeId);\n    const overIndex = columnTasks.findIndex(t => t.id === overId);\n    if (activeIndex !== overIndex) {\n      const reorderedTasks = arrayMove(columnTasks, activeIndex, overIndex);\n      const otherTasks = tasks.filter(t => t.status !== activeTask.status);\n      setTasks([...otherTasks, ...reorderedTasks]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DndContext, {\n    collisionDetection: closestCenter,\n    onDragEnd: handleDragEnd,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 20,\n        padding: 20,\n        minHeight: '80vh'\n      },\n      children: statuses.map(status => /*#__PURE__*/_jsxDEV(Column, {\n        status: status,\n        tasks: tasks,\n        setTasks: setTasks\n      }, status, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_c = Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["DndContext","closestCenter","arrayMove","Column","jsxDEV","_jsxDEV","statuses","Board","tasks","setTasks","handleDragEnd","event","active","over","activeId","id","overId","activeTask","find","task","includes","newStatus","status","map","t","overTask","columnTasks","filter","activeIndex","findIndex","overIndex","reorderedTasks","otherTasks","collisionDetection","onDragEnd","children","style","display","gap","padding","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/gosso/Bureau/Task_manager/task_manager/src/components/board/Board.jsx"],"sourcesContent":["import { DndContext, closestCenter } from '@dnd-kit/core';\nimport { arrayMove } from '@dnd-kit/sortable';\nimport Column from \"./Column\";\n\nconst statuses = [\"To Do\", \"In Progress\", \"Done\"];\n\nexport default function Board({ tasks, setTasks }) {\n  const handleDragEnd = (event) => {\n    const { active, over } = event;\n\n    if (!over) return;\n\n    const activeId = active.id;\n    const overId = over.id;\n\n    // Find the task being dragged\n    const activeTask = tasks.find(task => task.id === activeId);\n    if (!activeTask) return;\n\n    // If dropping on a column (not another task)\n    if (statuses.includes(overId)) {\n      const newStatus = overId;\n      if (activeTask.status !== newStatus) {\n        setTasks(tasks =>\n          tasks.map(t => t.id === activeId ? { ...t, status: newStatus } : t)\n        );\n      }\n      return;\n    }\n\n    // If dropping on another task, reorder within the same column\n    const overTask = tasks.find(task => task.id === overId);\n    if (!overTask || activeTask.status !== overTask.status) return;\n\n    const columnTasks = tasks.filter(t => t.status === activeTask.status);\n    const activeIndex = columnTasks.findIndex(t => t.id === activeId);\n    const overIndex = columnTasks.findIndex(t => t.id === overId);\n\n    if (activeIndex !== overIndex) {\n      const reorderedTasks = arrayMove(columnTasks, activeIndex, overIndex);\n      const otherTasks = tasks.filter(t => t.status !== activeTask.status);\n      setTasks([...otherTasks, ...reorderedTasks]);\n    }\n  };\n\n  return (\n    <DndContext collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\n      <div style={{ display: \"flex\", gap: 20, padding: 20, minHeight: '80vh' }}>\n        {statuses.map(status => (\n          <Column\n            key={status}\n            status={status}\n            tasks={tasks}\n            setTasks={setTasks}\n          />\n        ))}\n      </div>\n    </DndContext>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}